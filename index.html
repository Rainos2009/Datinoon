<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Datinoon 0.3.2</title>
  <link rel="stylesheet" href="style.css?v=0.3.2" />
  <style>
    /* ê¹¨ì§„ ë ˆì´ì•„ì›ƒ ê¸´ê¸‰ ìˆ˜ì • */
    body { margin: 0; font-family: 'Pretendard', sans-serif; background: #f0f2f5; }
    
    .header {
      display: flex; align-items: center; justify-content: space-between;
      padding: 10px 20px; background: #fff; border-bottom: 4px solid #000;
      position: sticky; top: 0; z-index: 1000;
    }

    .logo-box { border: 3px solid #000; background: #fff; padding: 2px; }
    .logo { height: 45px; display: block; }

    #searchInput {
      width: 450px; padding: 10px; border: 3px solid #000;
      font-weight: bold; outline: none;
    }

    /* ìš°ì¸¡ ìƒë‹¨ ìœ ì € ë°•ìŠ¤ */
    .account-area {
      display: flex; align-items: center; border: 3px solid #000;
      padding: 5px 12px; background: #fff; cursor: pointer; position: relative;
    }
    .profile-logo { width: 32px; height: 32px; border: 2px solid #000; margin-right: 8px; }
    .profile-name { font-weight: 900; font-size: 15px; }

    /* íŒì—… ë©”ë‰´: ê³„ì • ì˜ì—­ ë°”ë¡œ ì•„ë˜ ë°°ì¹˜ */
    .popup-menu {
      display: none; position: absolute; top: 55px; right: 20px;
      width: 180px; background: #fff; border: 3px solid #000;
      box-shadow: 6px 6px 0 rgba(0,0,0,1); z-index: 2000;
    }
    .popup-content ul { list-style: none; padding: 0; margin: 0; }
    .popup-content li a {
      display: block; padding: 12px; color: #000; text-decoration: none;
      font-weight: bold; border-bottom: 2px solid #eee;
    }
    .popup-content li a:hover { background: #eee; }

    /* ë©”ì¸ ì˜ì—­ */
    .main-content { padding: 40px 10%; }
    .intro-card {
      background: #fff; border: 4px solid #000; padding: 30px;
      box-shadow: 10px 10px 0 rgba(0,0,0,0.05); margin-bottom: 30px;
    }
    .intro-card h2 { margin-top: 0; font-size: 28px; font-weight: 900; }
  </style>
</head>

<body>

<header class="header">
  <button class="hamburger" onclick="toggleSidebar()" style="font-size:24px; background:none; border:none; cursor:pointer;">â‰¡</button>
  
  <div class="logo-box">
    <img src="images/Rainos.png" class="logo" alt="Datinoon 0.3.2" />
  </div>

  <div class="center">
    <input type="text" id="searchInput" placeholder="ì‚¬ì§„, ì˜ìƒ í˜¹ì€ ë ˆì¸ ê²€ìƒ‰..." />
  </div>

  <div class="right" style="position: relative;">
    <button id="login-nav-btn" onclick="toggleLoginBox()" style="font-weight:900; padding:10px 20px; border:3px solid #000; background:#fff; cursor:pointer;">ë¡œê·¸ì¸</button>
    
    <div class="account-area" id="profile-account-area" style="display:none;" onclick="toggleMenu()">
      <img src="images/Datinoon_Pro.png" class="profile-logo" id="profile-img">
      <span class="profile-name" id="profile-name">ì‚¬ìš©ì</span>
    </div>

    <div id="popup-menu" class="popup-menu">
      <div class="popup-content">
        <ul>
          <li><a href="/Datinoon/profile.html">ë§ˆì´ í”„ë¡œí•„</a></li>
          <li><a href="javascript:void(0)" onclick="openSettingsModal()">ì„¤ì •</a></li>
          <li><a href="javascript:void(0)" onclick="handleLogout()">ë¡œê·¸ì•„ì›ƒ</a></li>
        </ul>
      </div>
    </div>
  </div>
</header>

<main class="main-content">
  <div class="intro-card">
    <h2>Datinoonì´ë€?</h2>
    <p style="font-size: 18px; color: #444; font-weight: 500;">
      ëˆ„êµ¬ë‚˜ ì‚¬ì§„ê³¼ ì˜ìƒì„ ê³µìœ í•˜ê³  ì¶”ì–µì„ ë§Œë“œëŠ” ììœ ë¡œìš´ ì»¤ë®¤ë‹ˆí‹°ì…ë‹ˆë‹¤.
    </p>
  </div>

  <div class="content-section">
    <h2 style="font-weight: 900;">ğŸ”¥ ì¸ê¸° ì½˜í…ì¸ </h2>
    <div id="card-list" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;">
      </div>
  </div>
</main>

<script>
  // ë©”ë‰´ í† ê¸€ í•¨ìˆ˜ ìˆ˜ì •
  function toggleMenu() {
    const menu = document.getElementById('popup-menu');
    menu.style.display = (menu.style.display === 'block') ? 'none' : 'block';
  }

  // í™”ë©´ í´ë¦­ ì‹œ ë©”ë‰´ ë‹«ê¸°
  window.onclick = function(event) {
    if (!event.target.closest('.right')) {
      document.getElementById('popup-menu').style.display = 'none';
    }
  }

  // Supabase ë¡œê·¸ì¸ ìƒíƒœ ì—°ë™ (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
  // ... (ì´ì „ ì½”ë“œì˜ supabaseClient.auth.onAuthStateChange ë¶€ë¶„)
</script>

</body>
</html>