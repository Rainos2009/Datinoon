<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Datinoon</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .glass-card {
  width: 300px;
  height: 200px;
  border-radius: 20px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  padding: 16px;
  color: #fff;
  transition: transform 0.3s ease;
}
.glass-card:hover {
  transform: translateY(-4px);
}
  </style>
  <link rel="icon" href="images/Datinoon_favicon.png" type="image/png" />
</head>

<body>

<header class="header">
  <button class="hamburger" onclick="toggleSidebar()">â‰¡</button>
  <div class="left">
    <img src="images/Datinoon_0.3.1.png" class="logo" />
  </div>
  <div class="center">
    <input type="text" id="searchInput" placeholder="æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹" />
  </div>
  <div class="right">
  <button onclick="toggleLoginBox()" style="font-size:17px;">ãƒ­ã‚°ã‚¤ãƒ³</button>
  <div class="account-area" id="profile-account-area" style="display:none;" onclick="openMenu()">
   <img src="images/Datinoon_Pro.png" class="profile-logo">
    <div class="profile-info">
      <span class="profile-name" id="profile-name"></span>
      <span class="profile-meta" id="profile-meta"></span>
    </div>
</div>
</header>

<aside class="sidebar" id="sidebar">
  <button class="close-sidebar" onclick="toggleSidebar()">âœ•</button>
  <div class="datinoon-net-section">
    <img src="images/DatinoonNet_2025.png" alt="Datinoon-Net 2025" style="width:100%; margin-bottom:10px;" />
    <p style="font-size:14px; color:#444;">æ–°ã—ã„æƒ…å ±ã‚’ãŠå±Šã‘ã—ã¾ã™ï¼</p>
    <input type="text" placeholder="Datinoon-Net ê²€ìƒ‰..." style="width:90%; padding:5px; margin-top:10px;" />
    <button onclick="window.open('https://datinoon-login.web.app/', '_blank')" style="margin-top:10px;">ë°”ë¡œê°€ê¸°</button>
    <p style="font-size:13px; color:#666;">Datinoon-Net ã¨é€£æºã•ã‚ŒãŸãƒ¡ã‚¤ãƒ³ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚</p>
  </div>

  <hr style="margin:20px 0;" />

  <nav class="sidebar-nav">
    <ul>
      <li><a href="#">ğŸ“ ãƒãƒ£ãƒ³ãƒãƒ«æ¢ç´¢</a></li>
      <li><a href="#">ğŸ–¼ï¸ å†™çœŸ</a></li>
      <li><a href="#">ğŸï¸ å‹•ç”»</a></li>
      <li><a href="#">ğŸ† æ®¿å ‚å…¥ã‚Š</a></li>
    </ul>
  </nav>
</aside>

<div id="overlay" onclick="toggleSidebar()"></div>

<main class="main-content">

<div id="popup-menu" class="popup-menu">
  <div class="popup-content">
    <ul>
      <li><a id="profile-link" href="/Datinoon/profile.html">ãƒã‚¤ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</a>
      <li><a href="#" onclick="openSettingsModal()">è¨­å®š</a></li>
      <li><a href="#" onclick="logout()">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a></li>
    </ul>
    <button onclick="closeMenu()" class="close-btn">é–‰ã˜ã‚‹</button>
  </div>
</div>

<section class="intro">
  <h2>Datinoonì´ë€?</h2>
  <p>ëˆ„êµ¬ë‚˜ ì‚¬ì§„ê³¼ ì˜ìƒì„ ê³µìœ í•˜ë©° ì¶”ì–µì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” ììœ ë¡œìš´ ì»¤ë®¤ë‹ˆí‹°ì…ë‹ˆë‹¤.</p>
</section>

<section class="sample-content">
  <h2>ğŸ”¥ ì¸ê¸° ì½˜í…ì¸ </h2>
  <div class="card-list">
    <!-- ìƒ˜í”Œ ì´ë¯¸ì§€ ì¹´ë“œ -->
    <!-- ìƒ˜í”Œ ì˜ìƒ ì¹´ë“œ -->
  </div>
</section>

<footer>
  &copy; 2025 Datinoon | åˆ©ç”¨è¦ç´„ | ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼
</footer>

<div id="login-box">
  <div class="login-content">
    <img src="images/Datinoon_0.3.1.png" style="width:160px; margin: 28px 0 18px 0;">
    <div style="font-size: 16px; color:#333; margin-bottom:18px;">
      Datinoonã¸ã‚ˆã†ã“ãã€‚<br>Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚
    </div>
    <button id="google-login-btn" style="width:220px; height:44px; font-size:17px; border-radius:8px; border:none; background:#fff; box-shadow:0 2px 8px #0002;">
      <img src="images/Google_LOGO.png" style="width:22px; margin-right:10px; vertical-align:middle;">
      Googleã§ãƒ­ã‚°ã‚¤ãƒ³
    </button>
    <div style="margin-top:20px; color:#888; font-size:14px;">
      ã„ã¤ã§ã‚‚ãŠè¶Šã—ãã ã•ã„ã€‚<br>ã‚ˆã†ã“ãã€‚
    </div>
    <button onclick="toggleLoginBox()" style="margin-top:18px; color:#666; background:none; border:none; font-size:13px;">âœ– é–‰ã˜ã‚‹</button>
  </div>
</div>
<!-- ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ì€ ë¡œê·¸ì¸ ì‹œì—ë§Œ ë³´ì„ -->
<a href="#" id="logout-btn" onclick="logout()" style="display:none; position:fixed; top:22px; right:30px; font-size:15px;">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>

<!-- Firebase App (í•„ìˆ˜) -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>

<!-- Firebase Auth (ë¡œê·¸ì¸ ê¸°ëŠ¥ í•„ìˆ˜) -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>

<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

<script src="script.js"></script>

<div id="settingsModal" class="popup-menu" style="display:none;">
  <div class="popup-content">
    <h2 style="text-align:center;">è¨­å®š</h2>
    <div class="settings-grid">
      <div class="setting-item">
        <button class="setting-icon" onclick="openNicknameModal()">
          <img src="images/nickname_icon.png" alt="ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ å¤‰æ›´">
        </button>
        <div class="setting-label">ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ å¤‰æ›´</div>
      </div>
      <div class="setting-item">
        <button class="setting-icon" onclick="openLanguageModal()">
          <img src="images/lang_icon.png" alt="è¨€èªé¸æŠ">
        </button>
        <div class="setting-label">è¨€èªé¸æŠ</div>
      </div>
      <div class="setting-item">
        <button class="setting-icon" onclick="openFriendModal()">
          <img src="images/friend_icon.png" alt="å‹é”è¿½åŠ ">
        </button>
        <div class="setting-label">å‹é”è¿½åŠ </div>
      </div>
      <div class="setting-item">
        <button class="setting-icon" onclick="downloadMyData()">
          <img src="images/download_icon.png" alt="ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰">
        </button>
        <div class="setting-label">ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</div>
      </div>
      <div class="setting-item">
        <button class="setting-icon" onclick="openAccountModal()">
          <img src="images/account_icon.png" alt="ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š">
        </button>
        <div class="setting-label">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š</div>
      </div>
      <div class="setting-item">
        <button class="setting-icon" onclick="openActivityModal()">
          <img src="images/activity_icon.png" alt="ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£å±¥æ­´ã‚’è¦‹ã‚‹">
        </button>
        <div class="setting-label">ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£å±¥æ­´ã‚’è¦‹ã‚‹</div>
      </div>
    </div>
    <button onclick="closeSettingsModal()" class="close-btn">é–‰ã˜ã‚‹</button>
  </div>
</div>

<script>
  function openSettingsModal() {
    document.getElementById('settingsModal').style.display = 'block';
  }
  function closeSettingsModal() {
    document.getElementById('settingsModal').style.display = 'none';
  }
</script>

<div id="nicknameModal" class="popup-menu" style="display:none;">
  <div class="popup-content">
    <h3>ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã®å¤‰æ›´</h3>
    <input type="text" id="nicknameInput" placeholder="æ–°ã—ã„ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" style="width:100%; padding:10px; font-size:16px;" />
    <button onclick="saveNickname()" style="margin-top:10px;">ä¿å­˜</button>
    <button onclick="closeNicknameModal()" class="close-btn">é–‰ã˜ã‚‹</button>
  </div>
</div>

<script>
  function openNicknameModal() {
    document.getElementById('nicknameModal').style.display = 'block';
  }

  function closeNicknameModal() {
    document.getElementById('nicknameModal').style.display = 'none';
  }
</script>

<script>
  function saveNickname() {
    const user = firebase.auth().currentUser;
    const nickname = document.getElementById('nicknameInput').value;

    if (user && nickname.trim() !== '') {
      firebase.firestore().collection('nicknames').doc(user.uid).set({
        nickname: nickname
      }).then(() => {
        alert('ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ãŒä¿å­˜ã•ã‚Œã¾ã—ãŸã€‚');
        closeNicknameModal();
      }).catch((error) => {
        console.error('ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ä¿å­˜ã‚¨ãƒ©ãƒ¼:', error);
        alert('ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã®ä¿å­˜ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚');
      });
    } else {
      alert('ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼');
    }
  }
</script>

<script>
  function toggleSidebar() {
    const sidebar = document.getElementById("sidebar");
    sidebar.classList.toggle("active");
  }
</script>

</body>
</html>